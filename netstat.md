# netstat
## netstat -st输出的两个重要信息来源分别是/proc/net/snmp和/proc/net/netstat


## Linux 网络常见监控项以及报错
### 查看丢包
网络丢包会有多种可能，例如，交换机，上连和下连端口的流量跑满或链路有问题，那么数据包就有可能会被交换机丢掉；负载均衡设备，包括了硬件设备以及软件的负载均衡。在此，我们仅查看本机可能导致的掉包。

### 操作系统处理不过来，丢弃数据
有两种情况，一是网卡发现操作系统处理不过来，丢数据包，可以读取下面的文件：

``` $ cat /proc/net/dev ```

每个网络接口一行统计数据，第 4 列（errs）是接收出错的数据包数量，第 5 列（drop）是接收不过来丢弃的数量。

第二部分是传统非 NAPI 接口实现的网卡驱动，每个 CPU 有一个队列，当在队列中缓存的数据包数量超过 net.core.netdev_max_backlog 时，网卡驱动程序会丢掉数据包，这个见下面的文件：

``` $ cat /proc/net/softnet_stat ```

每个 CPU 有一行统计数据，第二列是对应 CPU 丢弃的数据包数量。
